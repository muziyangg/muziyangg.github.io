<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>接口 on 木子洋的博客</title>
        <link>http://localhost:1313/categories/%E6%8E%A5%E5%8F%A3/</link>
        <description>Recent content in 接口 on 木子洋的博客</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>muziyang</copyright>
        <lastBuildDate>Mon, 30 Dec 2024 00:00:00 +0000</lastBuildDate><atom:link href="http://localhost:1313/categories/%E6%8E%A5%E5%8F%A3/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>批量取消审核</title>
        <link>http://localhost:1313/p/blog-post-slug/</link>
        <pubDate>Mon, 30 Dec 2024 00:00:00 +0000</pubDate>
        
        <guid>http://localhost:1313/p/blog-post-slug/</guid>
        <description>&lt;img src="http://localhost:1313/p/blog-post-slug/title.jpg" alt="Featured image of post 批量取消审核" /&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;96
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/// d ##class(MI.TEST.THBB).THBB(&amp;#34;3333133&amp;#34;)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ClassMethod THBB(VisitNumberReportDR)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// 审核标本  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;;s VisitNumberReportDR=&amp;#34;3333133&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Sessions=&amp;#34;1250216&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s VisitNumberDR=lg(g(dbo.RPVisitNumberReportD(VisitNumberReportDR)),2)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s VisitNumber=lg(g(dbo.RPVisitNumberD(VisitNumberDR)),2)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;w &amp;#34;处理标本:&amp;#34;_VisitNumber_&amp;#34;,报告ID为:&amp;#34;_VisitNumberReportDR,!  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;d ..RecordGlobal(&amp;#34;处理标本:&amp;#34;_VisitNumber_&amp;#34;,报告ID为:&amp;#34;_VisitNumberReportDR)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Status=lg(g(dbo.RPVisitNumberReportD(VisitNumberReportDR)),22)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i Status=&amp;#34;3&amp;#34; d QXSH  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Status=lg(g(dbo.RPVisitNumberReportD(VisitNumberReportDR)),22)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i ((Status=&amp;#34;5&amp;#34;)||(Status=&amp;#34;2&amp;#34;)) d FHDJ  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Status=lg(g(^dbo.RPVisitNumberReportD(VisitNumberReportDR)),22)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i Status&amp;#39;=1 q
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// 清除结果  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// &amp;#34;3333126&amp;#34;,&amp;#34;&amp;lt;Data&amp;gt;&amp;lt;P3&amp;gt;&amp;lt;/P3&amp;gt;&amp;lt;P1&amp;gt;&amp;lt;/P1&amp;gt;&amp;lt;P12&amp;gt;&amp;lt;/P12&amp;gt;&amp;lt;P4&amp;gt;&amp;lt;/P4&amp;gt;&amp;lt;P0&amp;gt;&amp;lt;/P0&amp;gt;&amp;lt;P9&amp;gt;&amp;lt;/P9&amp;gt;&amp;lt;P13&amp;gt;&amp;lt;/P13&amp;gt;&amp;lt;P5&amp;gt;&amp;lt;/P5&amp;gt;&amp;lt;P6&amp;gt;&amp;lt;/P6&amp;gt;&amp;lt;P2&amp;gt;&amp;lt;/P2&amp;gt;&amp;lt;P10&amp;gt;&amp;lt;/P10&amp;gt;&amp;lt;P7&amp;gt;&amp;lt;/P7&amp;gt;&amp;lt;P11&amp;gt;&amp;lt;/P11&amp;gt;&amp;lt;P8&amp;gt;&amp;lt;/P8&amp;gt;&amp;lt;P14&amp;gt;&amp;lt;/P14&amp;gt;&amp;lt;/Data&amp;gt;&amp;#34;,&amp;#34;1250216&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Param=&amp;#34;&amp;lt;Data&amp;gt;&amp;lt;P3&amp;gt;&amp;lt;/P3&amp;gt;&amp;lt;P1&amp;gt;&amp;lt;/P1&amp;gt;&amp;lt;P12&amp;gt;&amp;lt;/P12&amp;gt;&amp;lt;P4&amp;gt;&amp;lt;/P4&amp;gt;&amp;lt;P0&amp;gt;&amp;lt;/P0&amp;gt;&amp;lt;P9&amp;gt;&amp;lt;/P9&amp;gt;&amp;lt;P13&amp;gt;&amp;lt;/P13&amp;gt;&amp;lt;P5&amp;gt;&amp;lt;/P5&amp;gt;&amp;lt;P6&amp;gt;&amp;lt;/P6&amp;gt;&amp;lt;P2&amp;gt;&amp;lt;/P2&amp;gt;&amp;lt;P10&amp;gt;&amp;lt;/P10&amp;gt;&amp;lt;P7&amp;gt;&amp;lt;/P7&amp;gt;&amp;lt;P11&amp;gt;&amp;lt;/P11&amp;gt;&amp;lt;P8&amp;gt;&amp;lt;/P8&amp;gt;&amp;lt;P14&amp;gt;&amp;lt;/P14&amp;gt;&amp;lt;/Data&amp;gt;&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s ret=##class(LISSP.DHCRPVisitNumberReport).ClearResult(VisitNumberReportDR,Param,Sessions)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i ret=1 d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.w VisitNumber_&amp;#34;清除结果成功&amp;#34;,!  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.d ..RecordGlobal(VisitNumber_&amp;#34;清除结果成功&amp;#34;)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;;b ;清除结果
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// 回退标本  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// &amp;#34;8000000023&amp;#34;,&amp;#34;&amp;lt;Data&amp;gt;&amp;lt;P3&amp;gt;&amp;lt;/P3&amp;gt;&amp;lt;P1&amp;gt;&amp;lt;/P1&amp;gt;&amp;lt;P12&amp;gt;&amp;lt;/P12&amp;gt;&amp;lt;P4&amp;gt;&amp;lt;/P4&amp;gt;&amp;lt;P0&amp;gt;1&amp;lt;/P0&amp;gt;&amp;lt;P9&amp;gt;&amp;lt;/P9&amp;gt;&amp;lt;P13&amp;gt;&amp;lt;/P13&amp;gt;&amp;lt;P5&amp;gt;10.82.2.3&amp;lt;/P5&amp;gt;&amp;lt;P6&amp;gt;&amp;lt;/P6&amp;gt;&amp;lt;P2&amp;gt;10221106&amp;lt;/P2&amp;gt;&amp;lt;P10&amp;gt;&amp;lt;/P10&amp;gt;&amp;lt;P7&amp;gt;&amp;lt;/P7&amp;gt;&amp;lt;P11&amp;gt;&amp;lt;/P11&amp;gt;&amp;lt;P8&amp;gt;&amp;lt;/P8&amp;gt;&amp;lt;P14&amp;gt;&amp;lt;/P14&amp;gt;&amp;lt;/Data&amp;gt;&amp;#34;,&amp;#34;1250216&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s TestSetDRs=&amp;#34;&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s TestSetDR=&amp;#34;&amp;#34; f s TestSetDR=$o(dbo.RPVisitNumberTestSetI(&amp;#34;IndexMaster&amp;#34;,VisitNumberDR,TestSetDR)) q:TestSetDR=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.s TestSetDRs=TestSetDRs_&amp;#34;&amp;#34;_TestSetDR  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Param=&amp;#34;&amp;lt;Data&amp;gt;&amp;lt;P3&amp;gt;&amp;lt;/P3&amp;gt;&amp;lt;P1&amp;gt;&amp;lt;/P1&amp;gt;&amp;lt;P12&amp;gt;&amp;lt;/P12&amp;gt;&amp;lt;P4&amp;gt;&amp;lt;/P4&amp;gt;&amp;lt;P0&amp;gt;1&amp;lt;/P0&amp;gt;&amp;lt;P9&amp;gt;&amp;lt;/P9&amp;gt;&amp;lt;P13&amp;gt;&amp;lt;/P13&amp;gt;&amp;lt;P5&amp;gt;10.82.2.3&amp;lt;/P5&amp;gt;&amp;lt;P6&amp;gt;&amp;lt;/P6&amp;gt;&amp;lt;P2&amp;gt;&amp;#34;_TestSetDRs_&amp;#34;&amp;lt;/P2&amp;gt;&amp;lt;P10&amp;gt;&amp;lt;/P10&amp;gt;&amp;lt;P7&amp;gt;&amp;lt;/P7&amp;gt;&amp;lt;P11&amp;gt;&amp;lt;/P11&amp;gt;&amp;lt;P8&amp;gt;&amp;lt;/P8&amp;gt;&amp;lt;P14&amp;gt;&amp;lt;/P14&amp;gt;&amp;lt;/Data&amp;gt;&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s ret=##Class(LISSP.DHCRPVisitNumber).RejectVisitNumber(VisitNumber,Param,Sessions)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i ret=1 w &amp;#34;回退标本成功&amp;#34;,!  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;;b ;回退标本  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;q
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;QXSH  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;w VisitNumber_&amp;#34;该标本为审核状态，取消审核中&amp;#34;,!  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;d ..RecordGlobal(VisitNumber_&amp;#34;该标本为审核状态，取消审核中&amp;#34;)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// 取消审核  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// &amp;#34;3333180&amp;#34;,&amp;#34;&amp;lt;Data&amp;gt;&amp;lt;P3&amp;gt;2&amp;lt;/P3&amp;gt;&amp;lt;P1&amp;gt;1&amp;lt;/P1&amp;gt;&amp;lt;P12&amp;gt;&amp;lt;/P12&amp;gt;&amp;lt;P4&amp;gt;&amp;lt;/P4&amp;gt;&amp;lt;P0&amp;gt;72&amp;lt;/P0&amp;gt;&amp;lt;P9&amp;gt;&amp;lt;/P9&amp;gt;&amp;lt;P13&amp;gt;&amp;lt;/P13&amp;gt;&amp;lt;P5&amp;gt;&amp;lt;/P5&amp;gt;&amp;lt;P6&amp;gt;&amp;lt;/P6&amp;gt;&amp;lt;P2&amp;gt;10.82.2.3&amp;lt;/P2&amp;gt;&amp;lt;P10&amp;gt;&amp;lt;/P10&amp;gt;&amp;lt;P7&amp;gt;&amp;lt;/P7&amp;gt;&amp;lt;P11&amp;gt;&amp;lt;/P11&amp;gt;&amp;lt;P8&amp;gt;&amp;lt;/P8&amp;gt;&amp;lt;P14&amp;gt;&amp;lt;/P14&amp;gt;&amp;lt;/Data&amp;gt;&amp;#34;,&amp;#34;1250216&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s WorkGroupMachineDR=lg(g(dbo.RPVisitNumberReportD(VisitNumberReportDR)),4)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i &amp;#39;$l(WorkGroupMachineDR) s WorkGroupMachineDR=&amp;#34;-1&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Param=&amp;#34;&amp;lt;Data&amp;gt;&amp;lt;P3&amp;gt;2&amp;lt;/P3&amp;gt;&amp;lt;P1&amp;gt;1&amp;lt;/P1&amp;gt;&amp;lt;P12&amp;gt;&amp;lt;/P12&amp;gt;&amp;lt;P4&amp;gt;&amp;lt;/P4&amp;gt;&amp;lt;P0&amp;gt;&amp;#34;_WorkGroupMachineDR_&amp;#34;&amp;lt;/P0&amp;gt;&amp;lt;P9&amp;gt;&amp;lt;/P9&amp;gt;&amp;lt;P13&amp;gt;&amp;lt;/P13&amp;gt;&amp;lt;P5&amp;gt;&amp;lt;/P5&amp;gt;&amp;lt;P6&amp;gt;&amp;lt;/P6&amp;gt;&amp;lt;P2&amp;gt;10.82.2.3&amp;lt;/P2&amp;gt;&amp;lt;P10&amp;gt;&amp;lt;/P10&amp;gt;&amp;lt;P7&amp;gt;&amp;lt;/P7&amp;gt;&amp;lt;P11&amp;gt;&amp;lt;/P11&amp;gt;&amp;lt;P8&amp;gt;&amp;lt;/P8&amp;gt;&amp;lt;P14&amp;gt;&amp;lt;/P14&amp;gt;&amp;lt;/Data&amp;gt;&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s ret=##class(LISSP.DHCRPVisitNumberReport).ReportUndo(VisitNumberReportDR,Param,Sessions)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s successFlag=$p(ret,&amp;#34;&amp;#34;,1)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i ret&amp;#39;=1 q  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;w VisitNumber_&amp;#34;取消审核成功&amp;#34;,!  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;d ..RecordGlobal(VisitNumber_&amp;#34;取消审核成功&amp;#34;)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;q
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FHDJ  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;w VisitNumber_&amp;#34;将标本返回登记状态&amp;#34;,!  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;d ..RecordGlobal(VisitNumber_&amp;#34;将标本返回登记状态&amp;#34;)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// 返回登记  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s Status=lg(g(^dbo.RPVisitNumberReportD(VisitNumberReportDR)),22)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s objReport=##class(dbo.RPVisitNumberReport).%OpenId(VisitNumberReportDR)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s objReport.Status=&amp;#34;1&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s rc=objReport.%Save()  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;q  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/// d ##class(MI.TEST.THBB).SearchVisitNumber()  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ClassMethod SearchVisitNumber()  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// IndexRequestDate RPVisitNumber HospitalDR, RequestDate
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s RequestDate=&amp;#34;&amp;#34; f s RequestDate=$o(dbo.RPVisitNumberI(&amp;#34;IndexRequestDate&amp;#34;,16,RequestDate)) q:RequestDate=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.s VisitNumberDR=&amp;#34;&amp;#34; f s VisitNumberDR=$o(dbo.RPVisitNumberI(&amp;#34;IndexRequestDate&amp;#34;,16,RequestDate,VisitNumberDR)) q:VisitNumberDR=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;..d ReportInfo  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;q  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ReportInfo  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s fWorkGPMiDR=&amp;#34;&amp;#34; f s fWorkGPMiDR=$o(dbo.RPVisitNumberReportI(&amp;#34;IndexReportID&amp;#34;,VisitNumberDR,fWorkGPMiDR)) q:fWorkGPMiDR=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.s fOrderNo=&amp;#34;&amp;#34; f s fOrderNo=$o(dbo.RPVisitNumberReportI(&amp;#34;IndexReportID&amp;#34;,VisitNumberDR,fWorkGPMiDR,fOrderNo)) q:fOrderNo=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;..s ReportDR=&amp;#34;&amp;#34; f s ReportDR=$o(^dbo.RPVisitNumberReportI(&amp;#34;IndexReportID&amp;#34;,VisitNumberDR,fWorkGPMiDR,fOrderNo,ReportDR)) q:ReportDR=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...d ..THBB(ReportDR)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;q
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ReportInfo1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s fWorkGPMiDR=&amp;#34;76&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s fOrderNo=&amp;#34;&amp;#34; f s fOrderNo=$o(dbo.RPVisitNumberReportI(&amp;#34;IndexReportID&amp;#34;,VisitNumberDR,fWorkGPMiDR,fOrderNo)) q:fOrderNo=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.s ReportDR=&amp;#34;&amp;#34; f s ReportDR=$o(dbo.RPVisitNumberReportI(&amp;#34;IndexReportID&amp;#34;,VisitNumberDR,fWorkGPMiDR,fOrderNo,ReportDR)) q:ReportDR=&amp;#34;&amp;#34; d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;..d ..THBB(ReportDR)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;q  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ClassMethod RecordGlobal(str)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;i &amp;#39;$d(LISTMPData(&amp;#34;THBB&amp;#34;)) d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.s Num=1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;e s Num=$o(LISTMPData(&amp;#34;THBB&amp;#34;,&amp;#34;&amp;#34;),-1)+1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s DateTime=zdt(h,8)  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;s ^LISTMPData(&amp;#34;THBB&amp;#34;,Num,DateTime)=str  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;q  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        
    </channel>
</rss>
